<!DOCTYPE html>
<html>
  <head>
    <title>Engineer Dashboard - Accreditations</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/stylesheets/styles.css" />
  </head>
  <style>
    .scrollable-container {
        display: flex;
        flex-direction: row;
        overflow-x: auto;
        overflow-y: hidden;
      }
      
      .card-fixed-size {
        flex: 0 0 auto;
        width: 300px;
        height: 100px;
        margin-right: 15px;
      }
  </style>
  <body style="height: 100vh; overflow: hidden;">
    <% include partials/topNavbar.ejs %>

    <main
      style="
        padding: 0px;
        display: flex;
        flex-direction: column;
        align-items: center;
        height: calc(100vh - 100px);
        overflow: hidden;
      "
    >
      <div class="card text-center mb-4"
           style="width: 1070px; height: 150px; background-color: #000000; color: white; position: fixed; top: 100px; z-index: 1000;">
        <div class="card-body d-flex align-items-center justify-content-center">
          <h2 class="card-title m-0"> My Accreditations</h2>
        </div>
      </div>

      <div class="container" style="margin-top: 200px; height: calc(100vh - 250px); overflow-x: auto; white-space: nowrap;">
        <div class="row">
            <div class="col">
              <h4 class="mb-4">Completed Accreditations</h4>
              <div class="scrollable-container">
                <% if (completedAccreditations.length > 0) { %>
                  <% completedAccreditations.forEach((accreditation) => { %>
                    <div class="card card-fixed-size" onclick="window.location.href='/paths/<%= accreditation.mip_id %>'">
                        <div class="card-body d-flex align-items-center justify-content-center">
                          <h5 class="card-title m-0"><%= accreditation.mip_name %></h5>
                        </div>
                      </div>
                  <% }) %>
                <% } else { %>
                  <p>No completed accreditations available.</p>
                <% } %>
              </div>
            </div>
          </div>

        <!-- Ongoing MIPs -->
<div class="row mt-4">
    <div class="col">
      <h4 class="mb-4">Ongoing MIPs</h4>
      <div class="scrollable-container">
        <% if (ongoingMips.length > 0) { %>
          <% ongoingMips.forEach((mip) => { %>
            <div class="card card-fixed-size" onclick="window.location.href='/paths/<%= mip.mip_id %>'">
                <div class="card-body d-flex align-items-center justify-content-center">
                  <h5 class="card-title m-0"><%= mip.mip_name %></h5>
                </div>
              </div>
          <% }) %>
        <% } else { %>
          <p>No ongoing MIPs available.</p>
        <% } %>
      </div>
    </div>
  </div>
  
      </div>
    </main>
    <% include partials/footer.ejs %>
  </body>
</html>
